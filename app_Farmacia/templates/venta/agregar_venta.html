{% extends 'base.html' %}
{% block content %}
<h3>Agregar Venta</h3>
<form method="POST">
  {% csrf_token %}
  <div class="row">
    <div class="col-md-6 mb-3">
      <label>Cliente</label>
      <select class="form-control" name="cliente" required>
        <option value="">-- Seleccionar Cliente --</option>
        {% for c in clientes %}
          <option value="{{ c.id }}">{{ c.nombre }} {{ c.apellido }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-6 mb-3">
      <label>Farmacéutico</label>
      <select class="form-control" name="farmaceutico" required>
        <option value="">-- Seleccionar Farmacéutico --</option>
        {% for f in farmaceuticos %}
          <option value="{{ f.id }}">{{ f.nombre }} {{ f.apellido }}</option>
        {% endfor %}
      </select>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 mb-3">
      <label>Fecha Venta</label>
      <input class="form-control" name="fecha_venta" type="datetime-local" value="{% now 'Y-m-d\TH:i' %}" required>
    </div>
    <div class="col-md-4 mb-3">
      <label>Número Factura</label>
      <input class="form-control" name="numero_factura" required>
    </div>
    <div class="col-md-4 mb-3">
      <label>Estado Venta</label>
      <input class="form-control" name="estado_venta" value="Completada" required>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 mb-3">
      <label>Total Venta</label>
      <input class="form-control" name="total_venta" type="number" step="0.01" value="0.00" required>
    </div>
    <div class="col-md-4 mb-3">
      <label>Descuento Total</label>
      <input class="form-control" name="descuento_total" type="number" step="0.01" value="0.00" required>
    </div>
    <div class="col-md-4 mb-3">
      <label>Método de Pago</label>
      <input class="form-control" name="metodo_pago" value="Efectivo" required>
    </div>
  </div>

  <button class="btn btn-primary" type="submit">Agregar Venta</button>
</form>
{% endblock %}